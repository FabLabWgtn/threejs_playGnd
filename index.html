<!DOCTYPE html>
<html>
	<head>
	    <meta charset="utf-8">
	    
	    <title>_playGnd</title>
	    <meta name="description" content="description">
	    <meta name="author" content="name">
	    <meta name="keywords" content="keywords">
	    <link rel="image_src" href="http://www.domain.com/images/FaceBookthumb.jpg">
    	<link rel="icon" type="image/x-icon"  href="favicon.ico">

    	<link rel="stylesheet" href="css/stylez.css">
	</head>
	<body>

		<header>
			<span id="underscore">&nbsp;</span>three.js playGnd
		</header>

		<ul>
			<li><a href="https://github.com/nbriz/threejs_playGnd" target="_blank">[0] documentation [nfo && credz]</a></li>
			<li><a href="gui">[1] geometry GUI</a></li>
			<li><a href="editor/indexb.html">[2] threejs editor</a></li>
			<li><a href="editor/archive.php">[3] sketch archive</a></li>
		</ul>

		<div id="ball"></div>


		<!-- // <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script> -->
		<script src="js/jquery-2.0.1.min.js"></script>
		<script src="js/three.min.js"></script>
		<script>
			var hov = false;

			$('a').on({
				mouseenter: function() { hov = true; },
				mouseout: function() { hov = false; }
			});

			$('#ball').on({
				click: function() {window.location = "http://brangerbriz.com";},
				mouseenter: function() { hov = true; },
				mouseout: function() { hov = false; }
			});


			var camera, scene, renderer;
			var geometry, material, mesh;

			function setup() {

				var W = 130, H = 130;
				renderer = new THREE.CanvasRenderer(); 
				renderer.setSize( W, H );
				$('#ball').append(renderer.domElement);	
			    camera = new THREE.PerspectiveCamera(45, W/H, 0.1, 10000);
				camera.position.z = 500;
				scene = new THREE.Scene();

				geometry = new THREE.IcosahedronGeometry( 150, 1 );
				var map = THREE.ImageUtils.loadTexture( 'texturez/blogo.gif' );
				map.wrapS = map.wrapT = THREE.RepeatWrapping;

				material = new THREE.MeshBasicMaterial({color: 0xffffff, wireframe: true, wireframeLinewidth: 2});
				mesh = new THREE.Mesh(geometry, material);
				scene.add( mesh );

				material = new THREE.MeshLambertMaterial( { ambient: 0xbbbbbb, map: map, opacity: 0.0} );
				logo = new THREE.Mesh(geometry, material);
				scene.add( logo );

			}

			var o=0, inc=0.5;
			var oo=1, dec=0.05;
			function draw() {

				requestAnimationFrame( draw );

				mesh.rotation.y = Date.now() * 0.001;
				logo.rotation.y = Date.now() * 0.001;

				if(hov==true){
					o+=inc; if(o>=1){o=1;}
					oo-=dec; if(oo<=0){oo=0.01;}
					logo.material.opacity = o;
					mesh.material.opacity = oo;
				}
				if(hov==false){
					o-=inc; if(o<=0){o=0;}
					oo+=dec; if(oo>=1){oo=1;}
					logo.material.opacity = o;
					mesh.material.opacity = oo;
				}
				
				renderer.render( scene, camera );

			}

			setup();
			draw();
		</script>
	</body>
</html>
